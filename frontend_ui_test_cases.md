# 前端UI测试用例

## 1. 时间选择区域测试

### 1.1 自定义时间选择
- **测试目的**：验证自定义时间选择功能
- **测试步骤**：
  1. 打开页面，确认开始和结束时间默认设置为最近24小时
  2. 点击开始时间选择器，选择一个更早的时间
  3. 点击结束时间选择器，选择一个更晚的时间
  4. 点击"查询"按钮
- **预期结果**：
  - 时间选择器能够正常打开和选择时间
  - 查询按钮点击后，页面显示加载状态
  - 图表和表格数据根据所选时间范围更新

### 1.2 快速选择按钮

#### 1.2.1 按钮样式和状态
- **测试目的**：验证快速选择按钮的样式和选中状态
- **测试步骤**：
  1. 打开页面，确认"最近24小时"按钮为选中状态（蓝色背景，白色文字）
  2. 点击"最近1小时"按钮
  3. 观察按钮状态变化
  4. 依次点击其他快速选择按钮
- **预期结果**：
  - 默认情况下，"最近24小时"按钮处于选中状态
  - 点击其他按钮后，该按钮变为选中状态，之前的选中按钮变为非选中状态
  - 选中按钮的背景色为蓝色（#0078D4），文字为白色
  - 非选中按钮的背景色为浅灰色（#f0f0f0），文字为黑色

#### 1.2.2 时间范围更新
- **测试目的**：验证快速选择按钮点击后时间范围的更新
- **测试步骤**：
  1. 点击"最近1小时"按钮
  2. 检查开始时间选择器的值是否为当前时间前1小时
  3. 点击"最近7天"按钮
  4. 检查开始时间选择器的值是否为当前时间前7天
- **预期结果**：
  - 点击快速选择按钮后，开始和结束时间选择器的值相应更新
  - API请求的时间范围与所选按钮的时间范围一致

### 1.3 自动刷新功能
- **测试目的**：验证自动刷新功能的开关状态和效果
- **测试步骤**：
  1. 打开页面，确认自动刷新开关默认处于开启状态
  2. 观察页面是否每隔45秒自动刷新一次
  3. 关闭自动刷新开关
  4. 再次观察页面是否自动刷新
- **预期结果**：
  - 自动刷新开关默认开启，页面每隔45秒自动刷新一次
  - 关闭自动刷新开关后，页面不再自动刷新
  - 刷新时，图表和表格数据更新

## 2. 图表渲染测试

### 2.1 图表初始化
- **测试目的**：验证图表能够正常初始化
- **测试步骤**：
  1. 打开页面，观察图表区域
  2. 检查控制台是否有错误信息
- **预期结果**：
  - 图表区域显示三条折线（切片整线速度、挤压出口胶温度、冷辊入口胶温度）
  - 控制台无JavaScript错误
  - 图表具有响应式设计，能够适应不同屏幕尺寸

### 2.2 数据显示
- **测试目的**：验证图表能够正确显示API返回的数据
- **测试步骤**：
  1. 点击"查询"按钮或快速选择按钮，触发API请求
  2. 观察图表数据变化
  3. 检查控制台日志中的API响应数据
  4. 对比图表显示的数据与API返回的数据
- **预期结果**：
  - API请求成功后，图表显示新的数据点
  - 图表显示的数据与API返回的数据一致
  - 当API返回空数据时，图表显示默认数据或清空

### 2.3 交互功能
- **测试目的**：验证图表的交互功能
- **测试步骤**：
  1. 鼠标悬停在图表的折线上
  2. 观察tooltip显示
  3. 拖拽图表进行缩放（如果支持）
  4. 点击图例开关曲线显示（如果支持）
- **预期结果**：
  - 鼠标悬停时，显示当前数据点的详细信息
  - tooltip显示生产香型和数据值
  - 图表支持基本的交互操作

## 3. 停机时间统计表格

### 3.1 表格初始化
- **测试目的**：验证表格能够正常初始化
- **测试步骤**：
  1. 打开页面，观察停机时间统计表格
  - 检查表格标题是否居中显示
  - 检查表格列标题是否正确
- **预期结果**：
  - 表格标题"停机时间统计"居中显示
  - 表格包含三列：开始时间、结束时间、停机时间（min）
  - 初始状态下，表格显示"暂无数据"或根据默认时间范围的数据显示

### 3.2 数据显示
- **测试目的**：验证表格能够正确显示停机时间数据
- **测试步骤**：
  1. 点击"查询"按钮或快速选择按钮，触发API请求
  2. 观察表格数据变化
  3. 检查控制台日志中的API响应数据和停机时间计算结果
  4. 对比表格显示的数据与计算结果
- **预期结果**：
  - API请求成功后，表格显示新的停机时间数据
  - 停机时间计算准确，单位为分钟（保留一位小数）
  - 当没有停机数据时，表格显示"暂无数据"

### 3.3 数据格式
- **测试目的**：验证表格数据的格式
- **测试步骤**：
  1. 观察表格中的时间格式和停机时间格式
- **预期结果**：
  - 开始时间和结束时间以本地化格式显示
  - 停机时间以分钟为单位，保留一位小数，并显示"分钟"后缀

## 4. 整体布局和响应式设计

### 4.1 布局结构
- **测试目的**：验证页面布局结构是否正确
- **测试步骤**：
  1. 打开页面，观察整体布局
  - 检查标题、消息显示、时间选择区域、图表和表格的位置
- **预期结果**：
  - 标题居中显示
  - 消息显示区域在标题下方
  - 时间选择区域居中显示，包含时间选择器、查询按钮和快速选择按钮
  - 图表区域在时间选择区域下方，占据较大空间
  - 停机时间统计表格在图表区域下方

### 4.2 响应式设计
- **测试目的**：验证页面在不同屏幕尺寸下的显示效果
- **测试步骤**：
  1. 调整浏览器窗口大小，观察页面布局变化
  2. 使用移动设备模拟工具，测试页面在移动设备上的显示效果
- **预期结果**：
  - 在大屏幕上，时间选择区域的元素水平排列
  - 在小屏幕上，时间选择区域的元素垂直排列
  - 图表能够适应不同屏幕尺寸，保持可读性
  - 表格在小屏幕上能够水平滚动，确保数据完整显示

## 5. 错误处理和用户反馈

### 5.1 API请求错误
- **测试目的**：验证API请求错误时的处理和用户反馈
- **测试步骤**：
  1. 断开网络连接或模拟API服务器故障
  2. 点击"查询"按钮或等待自动刷新
- **预期结果**：
  - 页面显示错误信息
  - 控制台显示详细的错误日志
  - 图表和表格保持之前的数据或显示默认数据

### 5.2 无数据情况
- **测试目的**：验证当API返回空数据时的处理
- **测试步骤**：
  1. 选择一个没有数据的时间范围
  2. 点击"查询"按钮
- **预期结果**：
  - 图表显示默认数据或清空
  - 停机时间统计表格显示"暂无数据"
  - 页面不显示错误信息

## 6. 性能和用户体验

### 6.1 页面加载时间
- **测试目的**：验证页面加载时间
- **测试步骤**：
  1. 清空浏览器缓存
  2. 打开页面，使用浏览器开发者工具测量页面加载时间
- **预期结果**：
  - 页面初始加载时间不超过3秒
  - 主要内容（标题、时间选择区域、图表框架）在1秒内显示

### 6.2 数据加载和渲染
- **测试目的**：验证数据加载和渲染的性能
- **测试步骤**：
  1. 选择一个包含大量数据的时间范围（如7天）
  2. 点击"查询"按钮，测量数据加载和渲染时间
- **预期结果**：
  - 数据加载和渲染时间不超过2秒
  - 页面在加载过程中显示适当的加载状态
  - 大量数据下，图表渲染流畅，不出现明显卡顿

### 6.3 用户交互响应
- **测试目的**：验证用户交互的响应速度
- **测试步骤**：
  1. 快速点击不同的快速选择按钮
  2. 快速切换自动刷新开关
  3. 观察页面响应
- **预期结果**：
  - 用户交互操作能够立即响应
  - 频繁操作时，页面能够正确处理请求队列，不出现错误
  - 按钮点击时有视觉反馈
